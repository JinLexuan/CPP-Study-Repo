# Improve C++ Performance
Multi-threading: std::async in the <future> head file.
	
# How to Make String Faster
Try the following code to see how many allocations, and think do we really need so many strings. Try to avoid copy of string.
(1 allocation in total).
``` cpp
#include <iostream>
#include <string>

static u_int32_t allocCnt = 0;

void* operator new(std::size_t size)
{
    allocCnt++;
    std::cout << "Allocationg: " << size << "Bytes" <<std::endl;
    return malloc(size);
}

void printName(const std::string& str)
{
    std::cout << str << std::endl;
}

int main()
{
    std::string name = "abc akfhakfa";
    
    std::string firstName = name.substr(0, 3);
    std::string lastName = name.substr(4, 12);
    
    std::cout << "Allocation times: " << allocCnt << std::endl;
}
```

use std::string_view (C++ 17). Only pass in a pointer(const char*) and a size. (1 allocation in total).
``` cpp
std::string_view firstName(name.c_str(), 3);
std::string_view lastName(name.c_str() + 4, 8);
```

printName() also change to(no need to pass by reference):
``` cpp
void printName(const std::string_view str)
{
    std::cout << str << std::endl;
}
```

Since name is a static string, it can be const char*. (0 allocation in total).
``` cpp
const char* name = "abc akfhakfa";
std::string_view firstName(name, 3);
std::string_view lastName(name + 4, 8);
```
	
